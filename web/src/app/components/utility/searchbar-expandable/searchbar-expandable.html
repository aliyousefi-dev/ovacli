<div>
    <!-- Dark overlay (click outside closes search) -->
    <div *ngIf="isSearchVisible" (click)="closeSearch()"
        class="absolute top-0 left-0 bg-black w-full h-full opacity-30 z-45">
    </div>

    <!-- Search container -->
    <div class="flex flex-col absolute top-0 left-0 w-full h-10  z-50 transition-all duration-300 ease-in-out"
        [ngClass]="{
        'translate-x-0 opacity-100': isSearchVisible,
        'translate-x-full opacity-0': !isSearchVisible,
        'disable-transitions': initialLoad
    }">

        <!-- Search input row -->
        <div class="flex items-center bg-base-100 w-full search-input-container">
            <button (click)="closeSearch()" class="btn btn-ghost z-20 transition-opacity duration-500 ease-in-out"
                [ngClass]="{
        'opacity-100 pointer-events-auto': isSearchVisible,
        'opacity-0 pointer-events-none': !isSearchVisible
    }">
                <i class="bx bx-arrow-back bx-sm"></i>
            </button>

            <input type="text" placeholder="Search..."
                class="input input-ghost focus:outline-none w-full transition-all duration-500 ease-in-out"
                [ngClass]="{'opacity-100': isSearchVisible, 'opacity-0': !isSearchVisible}"
                (input)="onSearchInput($event)" (click)="$event.stopPropagation()" />
        </div>

        <!-- Search results -->
        <div *ngIf="isSearchVisible && searchResults.length > 0"
            class="w-full bg-base-300 mt-2 p-2 transition-opacity duration-300 ease-in-out" [ngClass]="{
            'opacity-100': isSearchVisible && searchResults.length > 0, 
            'opacity-0': !isSearchVisible || searchResults.length === 0
        }">
            <ul class="list-none p-0 m-0">
                <li *ngFor="let suggestion of searchResults" class="p-2 hover:bg-base-200">
                    {{ suggestion }}
                </li>
            </ul>
        </div>
    </div>
</div>