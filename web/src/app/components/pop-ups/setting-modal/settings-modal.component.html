<dialog id="settings_modal" class="modal">
  <div class="modal-box flex flex-col p-0" style="width: 80vw; height: 60vh; overflow: hidden;"
    (click)="$event.stopPropagation()">
    <!-- Modal Header with Close Button -->
    <div class="w-full flex justify-between items-center p-5">
      <div class=" flex items-center justify-start">
        <h3 class="font-bold text-lg">Settings</h3>
      </div>
      <!-- Close Button in top-right corner -->
      <form method="dialog">
        <button class="btn btn-sm btn-circle btn-ghost">âœ•</button>
      </form>

    </div>

    <!-- Tabs for switching between settings -->
    <div class="tabs tabs-boxed">
      <a class="tab" [class.tab-active]="activeTab === 'general'" (click)="setActiveTab('general')">General</a>
      <a class="tab" [class.tab-active]="activeTab === 'theme'" (click)="setActiveTab('theme')">Appearance</a>
      <a class="tab" [class.tab-active]="activeTab === 'proxy'" (click)="setActiveTab('proxy')">Security</a>
    </div>

    <!-- Modal Content Section (Scrollable) -->
    <div class="space-y-4 overflow-y-auto  [scrollbar-width:thin] " style="flex-grow: 1;">

      <!-- General Tab Content -->
      @if (activeTab === 'general') {
      <app-settings-general-tab></app-settings-general-tab>
      }

      <!-- Theme Tab Content -->
      @if(this.activeTab === "theme"){
      <app-settings-appearance-tab></app-settings-appearance-tab>
      }


      @if(this.activeTab === 'proxy'){
      <app-settings-security-tab></app-settings-security-tab>
      }

    </div>
  </div>
  <form method="dialog" class="modal-backdrop">
    <button>close</button>
  </form>
</dialog>