<div #timelineRef class="w-full flex flex-col justify-between relative">
    <!-- Gradient behind timeline progress track only (sized by progressTrackLeftPx / progressTrackWidthPx) -->
    <div class="absolute bottom-0 h-28 z-0 pointer-events-none " [style.left.px]="progressTrackLeftPx"
        [style.width.px]="progressTrackWidthPx"></div>

    @if(videoRef){
    <app-scrub-preview [isVisible]="isScrubPreviewVisible" [timeInSeconds]="scrubTime"
        [scrubThumbStream]="scrubThumbData" [scrubXPositionPercent]="scrubXPositionPercent"
        [scrubXPositionPx]="scrubXPositionPx" [timelineWidthPx]="timelineWidthPx"> <!-- NEW INPUT ADDED -->
    </app-scrub-preview>

    <app-marker-track class="z-20"></app-marker-track>
    <app-buffered-track></app-buffered-track>

    <app-progress-track #progressTrack [videoRef]="this.videoRef" (scrubMove)="onScrubMove($event)"
        (scrubEnd)="onScrubEnd()" (mouseLeave)="onScrubEnd()" (mouseHover)="onScrubMove($event)">
    </app-progress-track>
    }
</div>